#
# <meta:header>
#   <meta:licence>
#     Copyright (c) 2025, Manchester (http://www.manchester.ac.uk/)
#
#     This information is free software: you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation, either version 3 of the License, or
#     (at your option) any later version.
#
#     This information is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
#
#     You should have received a copy of the GNU General Public License
#     along with this program.  If not, see <http://www.gnu.org/licenses/>.
#   </meta:licence>
# </meta:header>
#
#zrq-notes-indent
#
# AIMetrics: []
#

    Target:

        Success

    Result:

        Work in progress ...

# -----------------------------------------------------

    Unpublished thoughts, I need someone to check it before I publish it in the channel.


    I'm not asking for new code or procedures to be developed.
    I'm looking for documentation on what you already have.

    The schema is a moving target, evolving in response to feedback and changes to the requirements as the project progresses.
    Your own team have suggested changes to the schema, including multiple locations for a container image and the requested/offered values for compute cores and memory.
    Both of which are useful contributions to the evolving design.
    Both of which have now been incorporated into the schema.

    Once we understand that the schema will change, we need to find a way of synchronising our projects.

    The Calycopis-broker project hasn't been versioning the schema, which is an oversight on our part.
    We will have to figure out a mechanism for doing that going forward.

    In the mean time, to solve the current problem;

    Can you identify when you took a copy of the schema from the Calycopis-broker repository ?
    Once we know that, it is easy enough to checkout a copy of the Calycopis-broker code at that point in time and take a new copy.

    If we know what version you used, then when we want to
    migrate to a new version of the schema, we can compare your version with the new version
    to identify which parts of your code will need changing.

    To facilitate this process can you document which parts of your code are generated from the schema.
    In my own code base it is about 50:50 auto-generated code and manual human generated code separated into two Maven projects,
    one to build the auto-generated code and one to combine that with the human generated business logic.

    Can you document the process for updating the auto-generated code.
    A simple text file in the git repository will suffice, or an addition to the build instructions in your README file if it is covered by one of your make commands.

    For example:
    > This version of the service is based on a copy of the Execution Broker schema from the Calycopis-broker project taken on <date>.
    > To update the auto-generated code, place a new version of the the schema <here> and run `make command`.
    > You will then need to update the human generated code <here> and <here> to match.

    If we don't know which version of the schema your service is based on, we won't know which version of the Execution Broker service it will be compatible with.

    If we don't know how to update the auto-generated code, we won't be able to update your service to use a new version of the schema.


